<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<!--  Configuration of the controller beans -->
<beans>

  <!--  Defines how the dispatcher will select the contollers -->
  <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <!-- 
    <property name="interceptors">
      <list>
        <ref bean="localeChangeInterceptor"/>
        <ref bean="taxonomyDataAgreementInterceptor"/>
        <ref bean="sessionHistoryInterceptor"/>             
      </list>
    </property>
    -->
    <property name="mappings">
      <props>
        <!-- Home Page  -->
        <prop key="/home.html">homePageController</prop>
        
        <!-- Insert -->
        <prop key="/insert.html">insertController</prop>
        <!-- Images -->
        <prop key="/uploadImages.html">multipleImagesUploadController</prop>
        <prop key="/saveMetadata.html">saveMetadataController</prop>
        <!-- Importation file -->
        <prop key="/uploadImportationFile.html">uploadImportationFileController</prop>
        
        <!-- Edit -->
        <prop key="/edit.html">editController</prop>
        <prop key="/editMedia.html">editStep2PageController</prop>
        <prop key="/updateMetadata.html">updateMetadataController</prop>
        
        <!-- Image dispatcher controller -->
        <prop key="/getImage">imageController</prop>

        <!-- Login -->
        <prop key="/login.html">loginPageController</prop>
      </props>
    </property>
  </bean>
  
   
  <!-- image dispatcher -->
  <bean id="imageController" class="org.inbio.m3s.web.controller.ImageController">
    <property name="mediaDAO" ref="mediaDAO"/>
    <property name="applicationPath" value="/mnt/m3sImages/INBio/"/>
    <property name="temporalFilesPath" value="TEMP_MEDIA_DIR/"/>
    <property name="mediaFilesPath" value="MEDIA/"/>
    
    <property name="thumbImagePath" value="THUMB"/>
    <property name="bigImagePath" value="BIG"/>
    <property name="thumbImageCode" value="1"/>
    <property name="bigImageCode" value="2"/>
  </bean> 
  
  
  <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
    <!-- one of the properties available; the maximum file size in bytes -->
    <property name="maxUploadSize">
      <value>10485760</value>
    </property>
  </bean>  
  <!-- <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/> -->
  <!-- 
    <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                <prop key="/upload.form">fileUploadController</prop>
            </props>
        </property>
    </bean>
 -->  
    
  
  <bean id="loginPageController" class="org.inbio.m3s.web.controller.LoginPageController">
    <!-- View -->
    <property name="viewName" value="login"/>
    <!--  Form Action -->
    <!--  arreglar esto 
    <property name="formActionValue" value="saveMetadata.html"/>
    -->
  	<!--  metadata 
    <property name="metadataSserName" value="userName"/>
    <property name="metadataPassword" value="password"/>
    -->  
       
    <!-- Managers  
    <property name="messageManager" ref="messageManager"/>	
    -->
  </bean>
  
  
  
</beans>
