<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="
                http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
                http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd">

  <!--  Define how the dispatcher will select the controllers -->
  <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <!--
    <property name="interceptors">
      <list>
        <ref bean="localeChangeInterceptor"/>
        <ref bean="SpeciesRecordDataAgreementInterceptor"/>
        <ref bean="sessionHistoryInterceptor"/>             
      </list> 
    </property>
    -->
    <property name="mappings">
      <props>
        <prop key="/">searchFilterController</prop>
        <prop key="/search*.htm">searchFilterController</prop>   
        <prop key="/getGallery">galleries</prop>    
      </props>
    </property>
  </bean>
  
  <!-- The Filter Querying controller for Species Records -->
  <bean id="searchFilterController" class="org.inbio.m3s.web.controller.SearchController ">
    <property name="viewName" value="searchFilter"/>
    <property name="modelElements">
      <map>
        <entry key="formAction" value="/search/search.htm"/>
      </map>
    </property>
    
    <property name="filtersMap" ref="searchFilters"/>
    <property name="metadataFilters" value="filters"/>
    <property name="metadataMediaList" value="outputMediaList"/>
    <property name="mediaDAO" ref="mediaDAO"/>
    <!-- ARA -->
    <property name="searchManager" ref="ARASearchManager"/>
    <property name="mediaManager" ref="ARAMediaManager"/>
    <property name="agentManager" ref="ARAAgentManager"/>
    <property name="briefMediaOutputDTOFactory" ref="ARABriefMediaOutputDTOFactory"/>
     
     <!-- ATTA
    <property name="searchManager" ref="ATTASearchManager"/>
    <property name="mediaManager" ref="ATTAMediaManager"/>
    <property name="agentManager" ref="ATTAAgentManager"/>
    <property name="briefMediaOutputDTOFactory" ref="ATTABriefMediaOutputDTOFactory"/>
    -->
  </bean>  
  
  <!-- image dispatcher -->
  <bean id="galleries" class="org.inbio.m3s.web.controller.GalleryController">
    <!-- ARA --> 
    <property name="searchManager" ref="ARASearchManager"/>
    <property name="mediaManager" ref="ARAMediaManager"/>
    <property name="agentManager" ref="ARAAgentManager"/>
    
    <!-- ATTA
    <property name="searchManager" ref="ATTASearchManager"/>
    <property name="mediaManager" ref="ATTAMediaManager"/>
    <property name="agentManager" ref="ATTAAgentManager"/>
    -->
  </bean>   
    
</beans>